(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{6714:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[userId]",function(){return r(362)}])},5050:function(e,t,r){"use strict";var n=r(4051),s=r.n(n),i=r(5893),o=r(5321),a=r(1153),c=r(7294),u=r(8193),A=r(5155),l=r(2804),d=r(9959),p=r(701),f=r(6357),x=r(9815);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,s)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var i=e.apply(t,r);function o(e){h(i,n,s,o,a,"next",e)}function a(e){h(i,n,s,o,a,"throw",e)}o(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(c){a=!0,s=c}finally{try{o||null==r.return||r.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(){var e=j((0,l.FV)(p.eT),2),t=e[0],r=e[1],n=(0,c.useRef)(),m=(0,c.useRef)(),h=(0,c.useState)(null),y=h[0],w=h[1],b=(0,c.useState)(!1),g=b[0],N=b[1],E=(0,x.a)(),P=E.currentUser,k=E.updateUserSecondaryInfo,C=function(){var e=v(s().mark((function e(t){var n,i,c,u,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!g){e.next=4;break}return e.abrupt("return");case 4:return N(!0),e.next=7,k();case 7:return e.next=9,(0,o.PL)((0,o.IO)((0,o.hJ)(f.db,"users"),(0,o.ar)("uid","==",P.uid)));case 9:return i=e.sent,e.next=12,null===(n=null===i||void 0===i?void 0:i.docs[0])||void 0===n?void 0:n.data();case 12:return c=e.sent,e.next=15,(0,o.ET)((0,o.hJ)(f.db,"posts"),{uid:(0,d.h)(),user_uid:P.uid,username:c.username,caption:m.current.value,profileImg:c.photoURL,timeStamp:(0,o.Bt)()});case 15:return u=e.sent,(A=(0,a.iH)(f.tO,"posts/".concat(u.id,"/image"))).bucket.replace("appspot.com","firebaseapp.com"),e.next=20,(0,a.sf)(A,y,"data_url").then(v(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Jt)(A);case 2:return t=e.sent,e.next=5,(0,o.r7)((0,o.JU)(f.db,"posts",u.id),{imageURL:t});case 5:case"end":return e.stop()}}),e)}))));case 20:r(!1),N(!1),w(null);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){t&&(document.body.style.overflow="hidden"),!t&&(document.body.style.overflow="unset")}),[t]),(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsx)("div",{className:" w-full vh_for_iphones fixed bg-[#030303c7] top-0 z-50 scrollbar-hide",children:(0,i.jsx)("div",{className:"w-full vh_for_iphones flex items-center justify-center",children:(0,i.jsxs)("div",{className:"flex flex-col w-[90%] md:w-[50%] h-[80%] min-h-[400px] sm:min-h-[680px] bg-white border-[1px] border-gray-300 rounded-[32px] min-w-[250px] relative",children:[(0,i.jsx)("div",{className:"min-h-[50px] flex h-14 justify-center items-center w-full border-b-[1px]",children:(0,i.jsx)("p",{children:"Create new post"})}),(0,i.jsxs)("div",{className:"flex flex-col h-full justify-center items-center pb-6",children:[(0,i.jsx)("div",{className:"flex justify-center items-center h-[60%] w-full min-h-[80px] py-4",children:y?(0,i.jsx)("div",{className:"flex items-center justify-center h-[300px] md:h-[400px] overflow-hidden",children:(0,i.jsx)("img",{onClick:function(){return w(null)},src:y,alt:"uploaded_img"})}):(0,i.jsx)(u.IEK,{onClick:function(){return n.current.click()},className:"w-[50%] h-[80%] text-gray-300"})}),(0,i.jsx)("p",{className:"py-4 text-xl",children:"Drag photos here"}),(0,i.jsxs)("div",{className:"flex flex-col space-y-4 mb-8",children:[(0,i.jsx)("button",{onClick:function(){return n.current.click()},className:" bg-gray-800 text-white p-2 px-4 rounded-[32px]",children:"Select from Computer"}),(0,i.jsx)("div",{className:"absolute",children:(0,i.jsx)("input",{ref:n,onChange:function(e){var t,r=new FileReader;(null===(t=e.target)||void 0===t?void 0:t.files)&&e.target.files[0]&&r.readAsDataURL(e.target.files[0]),r.onload=function(e){var t,r;(null===(t=e.target)||void 0===t?void 0:t.result)&&w(null===(r=e.target)||void 0===r?void 0:r.result)}},type:"file",hidden:!0})}),(0,i.jsxs)("form",{className:"flex flex-col space-y-4",onSubmit:C,children:[(0,i.jsx)("input",{ref:m,placeholder:"Please enter a caption",className:" py-1 px-4 outline-none text-[16px] border-[1px] rounded-[32px] text-gray-500 w-[192px] font-light"}),(0,i.jsx)("button",{hidden:!y,className:" bg-blue-400 p-2 px-4 rounded-[32px] text-white my-4",children:g?"Uploading...":"Upload post"})]})]})]}),(0,i.jsx)(A.v8y,{onClick:function(){r(!1)},className:"absolute h-6 w-6 text-gray-800 top-[14px] right-3"})]})})})})}},5896:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),i=r(332),o=r.n(i);t.default=function(e){var t=e.posts,r=(0,s.useMemo)((function(){return(0,n.jsx)("div",{className:"flex flex-wrap",children:t.map((function(e,t){return(0,n.jsx)("div",{className:o().square,children:(0,n.jsx)("img",{className:"absolute w-full aspect-square object-cover top-0",src:e.imageURL,alt:"post"})},t)}))})}),[t]);return(0,n.jsx)(n.Fragment,{children:r})}},362:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return j}});var n=r(4051),s=r.n(n),i=r(5893),o=r(5321),a=r(1163),c=r(7294),u=r(3750),A=r(9583),l=r(9815),d=r(9980),p=r(5050),f=r(6357),x=r(1984),m=r(5896);function h(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,s)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var i=e.apply(t,r);function o(e){h(i,n,s,o,a,"next",e)}function a(e){h(i,n,s,o,a,"throw",e)}o(void 0)}))}}var j=!0;t.default=function(e){var t,r=(0,a.useRouter)(),n=(0,l.a)().currentUser,h=(0,c.useState)(!1),j=h[0],y=h[1];(0,c.useEffect)((function(){n||r.push("".concat("/my-feed","/auth/signin"))}),[n]);var w=n.uid&&n.uid==e.user.uid;(0,c.useEffect)((function(){var t=function(){var t=v(s().mark((function t(){var r,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,o.hJ)(f.db,"users"),t.next=4,(0,o.PL)((0,o.IO)(i,(0,o.ar)("uid","==",n.uid),(0,o.ar)("followings","array-contains",e.user.uid)));case 4:a=t.sent,(null===(r=null===a||void 0===a?void 0:a.docs[0])||void 0===r?void 0:r.exists())&&y(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var b=function(){var t=v(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,o.JU)(f.db,"users",n.uid),(0,o.r7)(r,{followings:(0,o.vr)(e.user.uid)}),y(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=v(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,o.JU)(f.db,"users",n.uid),(0,o.r7)(r,{followings:(0,o.Ab)(e.user.uid)}),y(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsxs)("div",{className:"w-full h-screen flex flex-col items-center",children:[(0,i.jsx)(d.Z,{}),(0,i.jsxs)("div",{className:"profile_posts_width sm:px-[20px] pt-[32px]",children:[(0,i.jsxs)("div",{className:"flex flex-col mb-[20px] sm:mb-0 justify-center items-center sm:flex-row px-[16px] sm:px-0",children:[(0,i.jsx)("div",{className:"min-w-[150px] md:min-w-[292px] sm:mr-[32px]",children:(0,i.jsx)("img",{className:"mx-auto w-[120px] h-[120px] md:w-[200px] md:h-[200px] p-[5px] object-cover rounded-[32px] border-[3px] border-red-500",src:e.user.photoURL||"data:image/jpeg;base64,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"})}),(0,i.jsxs)("section",{className:"flex flex-col space-y-4 sm:space-y-6 justify-center",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:space-x-4 justify-center sm:justify-start items-center",children:[(0,i.jsx)("h2",{className:" text-3xl font-light mb-2 sm:mb-0",children:e.user.username}),w?(0,i.jsx)("button",{onClick:x.B,className:"py-[5px] px-[9px] bg-white border-[1px] rounded-[32px] text-sm font-medium",children:"Edit profile"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,i.jsx)("button",{onClick:x.B,className:"py-[5px] px-[9px] bg-white border-[1px] rounded-[32px] text-sm font-medium",children:"Message"}),j?(0,i.jsx)("button",{onClick:g,className:"py-[5px] px-[16px] bg-white border-[1px] rounded-[32px] text-sm",children:(0,i.jsx)(A.TZR,{})}):(0,i.jsx)("button",{onClick:b,className:"py-[5px] px-[16px] bg-white border-[1px] rounded-[32px] text-sm font-medium",children:"Follow"})]}),(0,i.jsx)(u.evw,{className:"hidden sm:block w-6 h-6"})]})]}),(0,i.jsxs)("ul",{className:"hidden sm:flex flex-row space-x-4",children:[(0,i.jsxs)("li",{className:"",children:[(0,i.jsx)("span",{className:"font-medium",children:e.posts.length}),"\xa0 ",1==e.posts.length?"post":"posts"]}),(0,i.jsxs)("li",{className:"",children:[(0,i.jsx)("span",{className:"font-medium",children:e.followers.length}),"\xa0follower",1!=e.followers.length&&"s"]}),(0,i.jsxs)("li",{className:"",children:[(0,i.jsx)("span",{className:"font-medium",children:e.followings.length}),"\xa0following",1!=e.followings.length&&"s"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:" font-medium",children:e.user.name||" "}),(0,i.jsx)("span",{children:(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.bio)||"Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n                    Asperiores beatae iure praesentium corporis facere aliquam\n                    doloribus eaque delectus in perferendis impedit, magni sint\n                    molestias culpa eum consequatur temporibus cumque vero!"})]})]})]}),(0,i.jsx)("hr",{className:"m-8 mx-0"}),(0,i.jsx)(m.default,{posts:e.posts})]})]}),(0,i.jsx)(p.Z,{})]})}},332:function(e){e.exports={"square-container":"posts_square-container__e7115",square:"posts_square__wnFzn",content:"posts_content__xkVL6"}},1163:function(e,t,r){e.exports=r(880)},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var n=r(7294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(s),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},o.apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};function c(e){return e&&e.map((function(e,t){return n.createElement(e.tag,o({key:t},e.attr),c(e.child))}))}function u(e){return function(t){return n.createElement(A,o({attr:o({},e.attr)},t),c(e.child))}}function A(e){var t=function(t){var r,s=e.attr,i=e.size,c=e.title,u=a(e,["attr","size","title"]),A=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:A,width:A,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==i?n.createElement(i.Consumer,null,(function(e){return t(e)})):t(s)}},9959:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});for(var n,s=256,i=[];s--;)i[s]=(s+256).toString(16).substring(1);function o(e){var t=0,r=e||11;if(!n||s+r>512)for(n="",s=0;t<256;t++)n+=i[256*Math.random()|0];return n.substring(s,s+++r)}}},function(e){e.O(0,[13,874,445,617,556,158,980,774,888,179],(function(){return t=6714,e(e.s=t);var t}));var t=e.O();_N_E=t}]);